<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:na4shtab.PatientApp.ViewModels"
    xmlns:dg="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.DataGrid"
    x:Class="na4shtab.PatientApp.Views.ProcedureListView"
    x:DataType="vm:ProcedureListViewModel">
    <UserControl.DataContext>
        <vm:ProcedureListViewModel/>
    </UserControl.DataContext>
    <DockPanel>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="4">
            <TextBox Width="200" Watermark="Поиск..."
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>
            <Button Content="Добавить" Command="{Binding AddProcedureCommand}" Margin="2"/>
            <Button Content="Изменить" Command="{Binding EditProcedureCommand}" Margin="2"/>
            <Button Content="Удалить" Command="{Binding DeleteProcedureCommand}" Margin="2"/>
        </StackPanel>
        <dg:DataGrid ItemsSource="{Binding Procedures}"
                     SelectedItem="{Binding SelectedProcedure}"
                     AutoGenerateColumns="False"
                     Margin="4">
            <dg:DataGrid.Columns>
                <dg:DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="2*"/>
                <dg:DataGridTextColumn Header="Описание" Binding="{Binding Description}" Width="3*"/>
                <dg:DataGridTextColumn Header="Стоимость" Binding="{Binding Cost}" Width="150"/>
            </dg:DataGrid.Columns>
        </dg:DataGrid>
    </DockPanel>
</UserControl>
